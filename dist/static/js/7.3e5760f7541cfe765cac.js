webpackJsonp([7],{"0xjc":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Xxa5"),n=a.n(r),o=a("exGp"),i=a.n(o),l=a("Dd8w"),s=a.n(l),u=a("nuLj"),p={name:"GroupForm",data:function(){return{dialogConf:{width:"700px",isShow:!1,center:!0,title:null},type:null,sendData:{},initData:{upGroup:"下拉框",group:null,remark:null},rules:{group:[{required:!0,message:"请输入名称",trigger:"blur"}],upGroup:[{required:!0,message:"请选择上级归属分组",trigger:"change"}]},id:null}},methods:{init:function(t){var e=this,a=t.type,r=t.title,o=t.id,l=t.data;return i()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.dialogConf.isShow=!0,e.id=o,e.type=a,r&&(e.dialogConf.title=r),"add"===a?e.sendData=u.a.deepCloneObject(e.initData):"addChild"===a?(e.sendData=u.a.deepCloneObject(e.initData),e.sendData.upGroup=l.group):"update"===a&&(e.sendData=s()({},u.a.deepCloneObject(e.initData),l));case 5:case"end":return t.stop()}},t,e)}))()},submitForm:function(t){var e,a=this;this.$refs[t].validate((e=i()(n.a.mark(function t(e){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e||a.$message.error("请填写完表单");case 1:case"end":return t.stop()}},t,a)})),function(t){return e.apply(this,arguments)}))},resetForm:function(t){this.$refs[t].resetFields(),this.dialogConf.isShow=!1}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("dialog-container",{attrs:{"dialog-conf":t.dialogConf}},[a("el-row",{staticClass:"app-form plat-form",attrs:{gutter:t.$store.state.config.dialogFormGutterWidth}},[a("el-form",{ref:"rhForm",attrs:{model:t.sendData,"label-position":t.$store.state.config.labelPosition,rules:t.rules,"label-width":"125px"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-col",{attrs:{span:16,offset:3}},[(t.id,a("el-form-item",{attrs:{label:"所属上级",prop:"upGroup"}},[a("el-input",{attrs:{disabled:""},model:{value:t.sendData.upGroup,callback:function(e){t.$set(t.sendData,"upGroup",e)},expression:"sendData.upGroup"}})],1)),t._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"group"}},[a("el-input",{model:{value:t.sendData.group,callback:function(e){t.$set(t.sendData,"group",e)},expression:"sendData.group"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:6},model:{value:t.sendData.remark,callback:function(e){t.$set(t.sendData,"remark",e)},expression:"sendData.remark"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"app-submit-btns"},[a("el-form-item",{staticClass:"app-text-center"},[a("el-button",{on:{click:function(e){return t.submitForm("rhForm")}}},[t._v("\n                            保存\n                        ")]),t._v(" "),a("el-button",{staticClass:"resetForm",on:{click:function(e){return t.resetForm("rhForm")}}},[t._v("\n                            返回\n                        ")])],1)],1)])],1)],1)],1)},staticRenderFns:[]};var c={name:"GroupMange",components:{GroupForm:a("VU/8")(p,d,!1,function(t){a("lAXD")},"data-v-d5293fca",null).exports},data:function(){return{utils:{left:[{label:"归属分组",slot:"query-1"},{slot:"query"},{slot:"add"}],cols:[24]},queryData:{pageNum:1,pageSize:10,name:null,group:"下拉框"},table:{data:[],total:0,page:1,tableType:3,hidePagination:!0,cols:[{key:"group",label:"名称"},{key:"remark",label:"备注"},{key:"operation",width:"250px",align:"center",label:"操作",operation:!0}]}}},created:function(){this.init()},methods:{init:function(){this.table.data=[{id:1,upGroup:"四川省旅游景区-上级",group:"四川省旅游景区",remark:"备注",children:[{id:11,upGroup:"四川省旅游景区",group:"泸州景区",remark:"备注"},{id:12,upGroup:"四川省旅游景区",group:"内江景区",remark:"备注"},{id:13,upGroup:"四川省旅游景区",group:"宜宾市景区",remark:"备注",children:[{id:131,upGroup:"宜宾市景区",group:"竹海旅游景区",remark:"备注"}]}]}]},handleCurrentChange:function(t){this.queryData.pageNum=t,this.init()},showDialog:function(t){var e=t.type,a=t.id,r=t.data;"add"===e?this.$refs.GroupForm.init({type:e,title:"新增分组"}):"addChild"===e?this.$refs.GroupForm.init({type:e,id:a,data:r,title:"新增子集"}):"update"===e&&this.$refs.GroupForm.init({type:e,id:a,data:r,title:"修改分组"})},handleDelete:function(t){var e=this;t.id;this.$confirm("此操作将会删除此条数据,是否继续?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",center:!0,customClass:"bg-warning"}).then(i()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,e)}))).catch(function(){})}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content_box"},[a("app-table-utils",{attrs:{utils:t.utils}},[a("el-input",{attrs:{slot:"query-1",disabled:""},slot:"query-1",model:{value:t.queryData.group,callback:function(e){t.$set(t.queryData,"group",e)},expression:"queryData.group"}}),t._v(" "),a("el-button",{staticClass:"queryBtn",attrs:{slot:"query"},slot:"query"},[t._v("查询")]),t._v(" "),a("el-button",{staticClass:"queryBtn",attrs:{slot:"add"},on:{click:function(e){return t.showDialog({type:"add"})}},slot:"add"},[t._v("添加")])],1),t._v(" "),a("div",{staticClass:"table-line"}),t._v(" "),a("app-tables",{attrs:{table:t.table}},[a("template",{slot:"appTable"},[a("tree-table",{attrs:{data:t.table.data,cols:t.table.cols,"expand-all":""},scopedSlots:t._u([{key:"operation",fn:function(e){var r=e.data;return["operation"===r.col.key?[a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.showDialog({type:"addChild",data:r.row})}}},[t._v("\n                              添加下级\n                          ")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.showDialog({type:"update",data:r.row})}}},[t._v("\n                              编辑\n                          ")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handleDelete(r.row)}}},[t._v("\n                              删除\n                          ")])]:[t._v("\n                          "+t._s(r.row[r.col.key]||"-")+"\n                      ")]]}}])})],1)],2),t._v(" "),a("group-form",{ref:"GroupForm",on:{refresh:function(e){return t.init()}}})],1)},staticRenderFns:[]},m=a("VU/8")(c,f,!1,null,null,null);e.default=m.exports},lAXD:function(t,e){}});
//# sourceMappingURL=7.3e5760f7541cfe765cac.js.map